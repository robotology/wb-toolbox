fprintf('\nWhole Body Interface Toolbox\n');

installDir = '@CMAKE_INSTALL_PREFIX@';
mexDir     = [installDir, filesep, 'mex'];
shareDir   = '@WBI-TOOLBOX_SHARE_DIR@';
imgDir     = [shareDir, filesep, 'images'];
toolsDir   = [shareDir, filesep, 'tools'];
% robotsDir  = genpath([installDir, '/../../libraries/yarpWholeBodyInterface/app/robots'])

if exist(mexDir, 'dir')
    addpath(mexDir);
end

if exist(shareDir, 'dir')
    addpath(shareDir);
end

if exist(imgDir, 'dir')
    addpath(imgDir);
end

if exist(toolsDir, 'dir')
    addpath(toolsDir);
end

% addpath(robotsDir);

fileDir = userpath;
pathSeparatorLocation = strfind(fileDir, pathsep);
if (~isempty(pathSeparatorLocation))
    fileDir(pathSeparatorLocation) = [];
end

fprintf('Saving paths to %s\n\n', [fileDir, filesep, 'pathdef.m']);

if (~savepath([fileDir, filesep, 'pathdef.m']))
    fprintf(['A file called pathdef.m has been created in your %s folder.\n', ...
        'This should be enough to permanentely add WBI-Toolbox to', ...
        'your MATLAB installation.\n'], fileDir);
else
    disp('There was an error generating pathdef.m To proceed please manually add the contents of variables mexDir, shareDir and imgDir to your matlabpath');
end
